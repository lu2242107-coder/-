<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>北一區學習園地：八星等權益(保代產品)認證</title>
<style>
    :root {
        --primary-red: #b22222; /* 遠銀紅 */
        --bg-color: #f4f6f8;
        --card-bg: #ffffff;
        --text-color: #333;
        --border-radius: 12px;
    }

    body {
        font-family: "Microsoft JhengHei", "Heiti TC", sans-serif;
        background-color: var(--bg-color);
        color: var(--text-color);
        margin: 0;
        padding: 20px;
        line-height: 1.6;
    }

    .container {
        max-width: 800px;
        margin: 0 auto;
        background: var(--card-bg);
        padding: 30px;
        border-radius: var(--border-radius);
        box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        border-top: 6px solid var(--primary-red);
    }

    header {
        text-align: center;
        margin-bottom: 25px;
        padding-bottom: 15px;
        border-bottom: 1px solid #eee;
    }

    h1 {
        color: var(--primary-red);
        margin: 0 0 10px 0;
        font-size: 1.8em;
    }

    .subtitle {
        color: #555;
        font-weight: bold;
        font-size: 1.1em;
    }

    .alert-box {
        background-color: #e3f2fd;
        color: #0d47a1;
        padding: 15px;
        border-radius: 8px;
        border-left: 5px solid #2196f3;
        margin-bottom: 25px;
        font-size: 0.95em;
    }

    .question-card {
        background: #fff;
        margin-bottom: 20px;
        padding: 20px;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        transition: transform 0.2s;
    }

    .q-tag {
        display: inline-block;
        font-size: 0.85em;
        background-color: #f0f0f0;
        color: #555;
        padding: 3px 10px;
        border-radius: 4px;
        margin-bottom: 10px;
        font-weight: bold;
    }

    .q-title {
        font-weight: bold;
        font-size: 1.15em;
        margin-bottom: 15px;
        color: #2c3e50;
    }

    .options label {
        display: flex;
        align-items: flex-start;
        padding: 12px 15px;
        margin: 8px 0;
        background: #f9f9f9;
        border-radius: 6px;
        cursor: pointer;
        border: 1px solid transparent;
        transition: all 0.2s;
    }

    .options label:hover {
        background: #eef2f5;
        border-color: #ccc;
    }

    input[type="radio"] {
        margin-right: 12px;
        margin-top: 5px;
        transform: scale(1.2);
        flex-shrink: 0;
    }

    button.submit-btn {
        display: block;
        width: 100%;
        padding: 16px;
        background-color: var(--primary-red);
        color: white;
        font-size: 1.2em;
        font-weight: bold;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        margin-top: 30px;
        box-shadow: 0 4px 6px rgba(178, 34, 34, 0.3);
    }

    button.submit-btn:hover {
        background-color: #900000;
    }

    /* 解析與結果區 */
    .explanation {
        margin-top: 15px;
        padding: 15px;
        background-color: #fff;
        border-left: 4px solid #6c757d;
        font-size: 0.95em;
        color: #444;
        display: none;
    }

    .correct-text { color: #28a745; font-weight: bold; }
    .wrong-text { color: #dc3545; font-weight: bold; }

    #result-area {
        display: none;
        text-align: center;
        margin-top: 30px;
        padding: 30px;
        border-radius: 12px;
    }

    .pass {
        background-color: #d4edda;
        color: #155724;
        border: 2px solid #c3e6cb;
    }

    .fail {
        background-color: #f8d7da;
        color: #721c24;
        border: 2px solid #f5c6cb;
    }

    .score-display {
        font-size: 3em;
        font-weight: bold;
        margin: 10px 0;
    }

    .retry-btn {
        display: inline-block;
        margin-top: 20px;
        padding: 12px 35px;
        background-color: #555;
        color: white;
        border-radius: 50px;
        cursor: pointer;
        text-decoration: none;
        font-weight: bold;
    }
</style>
</head>
<body>

<div class="container">
    <header>
        <h1>北一區學習園地</h1>
        <div class="subtitle">八星等權益(保代產品)認證測驗</div>
    </header>

    <div class="alert-box">
        <strong>⚠️ 測驗重點（防客訴須知）：</strong>
        <ul>
            <li>目的：釐清「保費融資」與「保單融資」差異，並熟悉財管 2.0 核心保險商品。</li>
            <li>規則：題庫隨機抽出 10 題，選項順序隨機。</li>
            <li><strong>及格標準：90 分</strong>（高標準要求，槓桿風險需揭露清楚）。</li>
        </ul>
    </div>

    <form id="quizForm">
        <div id="quiz-container">
            <!-- 題目由 JS 動態生成 -->
        </div>
        <button type="button" class="submit-btn" onclick="submitQuiz()">提交測驗</button>
    </form>

    <div id="result-area"></div>
</div>

<script>
    // 題庫資料 (依據來源 [1]~[2] 保險商品規劃編制)
    const questionBank = [
        {
            id: 1,
            tag: "核心商品",
            question: "財管 2.0 針對高資產客戶規劃的「核心商品類型」，主要包含哪兩類？",
            options: [
                "高保障利率變動型壽險、分紅保險",
                "定期壽險、意外險",
                "旅平險、產險",
                "僅限連結結構債的投資型保單"
            ],
            answer: "高保障利率變動型壽險、分紅保險",
            note: "解析：核心商品類型為：提供穩健資產傳承的「高保障利變壽險」與兼具保障與增值的「分紅保險」。[來源：13]"
        },
        {
            id: 2,
            tag: "保費融資",
            question: "關於「保費融資」與「保單融資」的區別，下列何者描述正確？",
            options: [
                "保費融資：限投保特定之「新契約」保單；保單融資：將既有保單轉化為資金來源",
                "保費融資：僅針對舊保單；保單融資：針對新保單",
                "兩者完全相同，只是名稱不同",
                "保費融資不需銀行審核，保單融資需要"
            ],
            answer: "保費融資：限投保特定之「新契約」保單；保單融資：將既有保單轉化為資金來源",
            note: "解析：保費融資是針對「新契約」(New Business) 進行槓桿操作；保單融資則是將「既有保單」(Existing) 活化。[來源：16]"
        },
        {
            id: 3,
            tag: "客戶資格",
            question: "欲申辦「保費融資」業務，客戶必須符合何種資格要求？",
            options: [
                "必須符合主管機關定義的「高資產客戶」",
                "只要是銀行 VIP 即可",
                "年收入 100 萬以上即可",
                "持有信用卡滿 5 年"
            ],
            answer: "必須符合主管機關定義的「高資產客戶」",
            note: "解析：客戶資格嚴格要求必須符合主管機關定義的「高資產客戶」(億級 PI)。[來源：17]"
        },
        {
            id: 4,
            tag: "合規要求",
            question: "辦理「保費融資」時，關於要保人與被保人的關係，下列何者正確？",
            options: [
                "要保人與被保人必須為「同一人」",
                "可以父母為要保人，子女為被保人",
                "可以公司為要保人，負責人為被保人",
                "沒有限制"
            ],
            answer: "要保人與被保人必須為「同一人」",
            note: "解析：為簡化法律關係、避免權益糾紛，規定「要保人與被保人必須為同一人」。[來源：17]"
        },
        {
            id: 5,
            tag: "銀行保全",
            question: "在保費融資架構中，銀行的核心保全設定（第一順位受益人）是指？",
            options: [
                "銀行必須被指定為保險金的「第一順位受益人」",
                "銀行為第二順位受益人",
                "理專為第一順位受益人",
                "不需要設定受益人"
            ],
            answer: "銀行必須被指定為保險金的「第一順位受益人」",
            note: "解析：銀行必須被指定為保險金的「第一順位受益人」，確保在發生保險事故時，貸款能優先獲償。[來源：17]"
        },
        {
            id: 6,
            tag: "綠色通道",
            question: "針對高資產客戶，財管 2.0 提供「核保綠色通道 (Green Channel)」的優勢為何？",
            options: [
                "優先審核、專人跟進、快速回覆與決策",
                "保費可以直接打折",
                "免填寫任何健康告知書",
                "保證一定承保"
            ],
            answer: "優先審核、專人跟進、快速回覆與決策",
            note: "解析：綠色通道提供加速核保流程、提升效率，確保高資產客戶的投保體驗更加順暢迅速。[來源：13]"
        },
        {
            id: 7,
            tag: "商品特性",
            question: "適合搭配「保費融資」的保險商品，通常具備什麼特點？",
            options: [
                "高首日解約金（高於一般商品），保障銀行貸款擔保品價值",
                "首日解約金為零",
                "必須是純保障型定期壽險",
                "必須是產險商品"
            ],
            answer: "高首日解約金（高於一般商品），保障銀行貸款擔保品價值",
            note: "解析：保費融資專屬商品具備「特殊設計(高首日解約金)」，旨在保護銀行與客戶雙方權益，確保融資安全性。[來源：15]"
        },
        {
            id: 8,
            tag: "風險揭露",
            question: "推廣保費融資時，必須清楚告知客戶「須獲銀行同意」的變更項目共有幾項？",
            options: [
                "11 項 (包括變更受益人、展期、保單借款等)",
                "3 項",
                "5 項",
                "完全不需要銀行同意"
            ],
            answer: "11 項 (包括變更受益人、展期、保單借款等)",
            note: "解析：在融資債務未全數清償前，客戶對保單的 11 項關鍵操作權利將受限，必須先經銀行同意。[來源：17]"
        },
        {
            id: 9,
            tag: "繳費方式",
            question: "保費融資型商品的繳費別，通常限制為？",
            options: [
                "躉繳 (一次繳清)",
                "月繳",
                "季繳",
                "年繳"
            ],
            answer: "躉繳 (一次繳清)",
            note: "解析：確保銀行貸款資金能一次到位並鎖定保單價值，故商品設計為僅限「躉繳」。[來源：15]"
        },
        {
            id: 10,
            tag: "客戶效益",
            question: "客戶採用「保費融資」的主要效益為何？",
            options: [
                "槓桿購買大額保單，將既有保單轉化為現金來源(保留流動性)",
                "為了賺取銀行利息",
                "為了規避保險審查",
                "沒有任何效益"
            ],
            answer: "槓桿購買大額保單，將既有保單轉化為現金來源(保留流動性)",
            note: "解析：效益包含：槓桿購買大額保單、提高保障倍數、創造資產槓桿效應。[來源：16]"
        },
        {
            id: 11,
            tag: "違約後果",
            question: "若保費融資客戶違約，銀行可採取的措施為何？",
            options: [
                "要求解約清償，客戶將失去保障且前期投入可能付諸東流",
                "銀行無權處理",
                "銀行需幫客戶代繳保費",
                "自動轉為信用貸款"
            ],
            answer: "要求解約清償，客戶將失去保障且前期投入可能付諸東流",
            note: "解析：一旦無法償還貸款導致違約，保單可能被強制解約以償還債務，這是必須揭露的重要風險。[來源：17]"
        },
        {
            id: 12,
            tag: "融資成本",
            question: "客戶需認知的「融資成本」風險，主要來自於？",
            options: [
                "這是一筆實質借貸，需支付利息，且利率隨市場變動 (非固定)",
                "融資是免費的",
                "利率永遠固定不變",
                "銀行會補貼利息"
            ],
            answer: "這是一筆實質借貸，需支付利息，且利率隨市場變動 (非固定)",
            note: "解析：這是一筆有償借貸，利率浮動可能影響投資效益，甚至導致利息支出高於保單收益。[來源：17]"
        },
        {
            id: 13,
            tag: "分工模式",
            question: "在保險融資服務組合中，RM 與保險融資端的分工為何？",
            options: [
                "RM 負責前端接洽客戶，後端有專屬團隊協助文件與產品說明",
                "RM 必須自己完成所有產品開發",
                "保險公司直接對接客戶，RM 不用介入",
                "RM 只負責收件，不需了解需求"
            ],
            answer: "RM 負責前端接洽客戶，後端有專屬團隊協助文件與產品說明",
            note: "解析：RM 在前線接觸客戶，而後端有保險商(產品)與保險融資端(風管)協作，提供專業支援。[來源：18]"
        },
        {
            id: 14,
            tag: "亞資專區",
            question: "本行「亞洲資產管理專區」試辦業務的核心，在保險面強調的是？",
            options: [
                "不受死亡給付最低比率規範、外幣收付多幣別",
                "僅限台幣保單",
                "只能銷售意外險",
                "完全不銷售保險"
            ],
            answer: "不受死亡給付最低比率規範、外幣收付多幣別",
            note: "解析：試辦業務特色包含：不受死亡給付最低比率規範(資產累積導向)、外幣收付、滿足國際化需求。[來源：14]"
        },
        {
            id: 15,
            tag: "資產認定",
            question: "在確認「高資產客戶」資格時，資產計算的紅線（不能計入）是？",
            options: [
                "不動產 (房地產)",
                "現金",
                "股票",
                "保單價值"
            ],
            answer: "不動產 (房地產)",
            note: "解析：定義為「如同有投資經驗的億級 PI (不含不動產)」。這是所有財管 2.0 業務的基石。[來源：4]"
        }
    ];

    // 洗牌演算法
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    let currentQuestions = [];

    // 初始化測驗
    function initQuiz() {
        const quizContainer = document.getElementById('quiz-container');
        quizContainer.innerHTML = '';
        document.getElementById('result-area').style.display = 'none';
        document.querySelector('.submit-btn').style.display = 'block';

        // 1. 隨機選出 10 題
        const shuffledQuestions = shuffleArray([...questionBank]);
        currentQuestions = shuffledQuestions.slice(0, 10);

        // 2. 生成 HTML
        currentQuestions.forEach((q, index) => {
            // 複製選項並隨機打亂
            let shuffledOptions = shuffleArray([...q.options]);

            const card = document.createElement('div');
            card.className = 'question-card';
            card.id = `card-${index}`;

            // 生成選項 HTML
            let optionsHtml = '';
            shuffledOptions.forEach((opt) => {
                optionsHtml += `
                    <label>
                        <input type="radio" name="q${index}" value="${opt}">
                        <span>${opt}</span>
                    </label>
                `;
            });

            card.innerHTML = `
                <div class="q-tag">#${q.tag}</div>
                <div class="q-title">Q${index + 1}. ${q.question}</div>
                <div class="options">${optionsHtml}</div>
                <div class="explanation" id="expl-${index}">${q.note}</div>
            `;
            quizContainer.appendChild(card);
        });
    }

    // 提交邏輯
    function submitQuiz() {
        let score = 0;
        let unanswered = false;
        
        // 檢查未作答
        for (let i = 0; i < 10; i++) {
            const selected = document.querySelector(`input[name="q${i}"]:checked`);
            if (!selected) {
                unanswered = true;
                document.getElementById(`card-${i}`).style.border = "2px solid #dc3545";
            } else {
                document.getElementById(`card-${i}`).style.border = "1px solid #e0e0e0";
            }
        }

        if (unanswered) {
            alert("尚有題目未作答，請完成後再提交！");
            return;
        }

        // 計分
        currentQuestions.forEach((q, index) => {
            const selected = document.querySelector(`input[name="q${index}"]:checked`).value;
            const explDiv = document.getElementById(`expl-${index}`);
            const cardDiv = document.getElementById(`card-${index}`);
            
            explDiv.style.display = 'block'; // 顯示解析

            if (selected === q.answer) {
                score += 10;
                explDiv.innerHTML = `<span class="correct-text">✅ 正確！</span> ` + explDiv.innerText;
                cardDiv.style.borderLeft = "5px solid #28a745";
            } else {
                explDiv.innerHTML = `<span class="wrong-text">❌ 錯誤！</span> 正確答案為：<strong>${q.answer}</strong><br><br>` + explDiv.innerText;
                cardDiv.style.borderLeft = "5px solid #dc3545";
                cardDiv.style.backgroundColor = "#fff5f5";
            }
        });

        // 顯示結果
        const resultArea = document.getElementById('result-area');
        const submitBtn = document.querySelector('.submit-btn');
        submitBtn.style.display = 'none';
        resultArea.style.display = 'block';

        if (score >= 90) {
            resultArea.className = 'pass';
            resultArea.innerHTML = `
                <div class="score-display">${score} 分</div>
                <h2>🎉 恭喜通過認證！</h2>
                <p>您已精確掌握財管 2.0 保險商品與融資合規細節。</p>
                <div class="retry-btn" onclick="initQuiz()">再次測驗</div>
            `;
        } else {
            resultArea.className = 'fail';
            resultArea.innerHTML = `
                <div class="score-display">${score} 分</div>
                <h2>⚠️ 未達標準 (需 90 分)</h2>
                <p>請重新複習「保費融資」的客戶資格與 11 項變更限制，避免銷售風險。</p>
                <div class="retry-btn" onclick="initQuiz()">重新測驗</div>
            `;
        }
        
        resultArea.scrollIntoView({ behavior: 'smooth' });
    }

    // 啟動
    window.onload = initQuiz;
</script>

</body>
</html>